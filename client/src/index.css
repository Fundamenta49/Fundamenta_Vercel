@import '@fontsource/lora/400.css';
@import '@fontsource/lora/700.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Existing root variables remain unchanged */
  :root {
    --primary: 200 27% 23%;
    --primary-foreground: 0 0% 96%;
    --background: 0 0% 96%;
    --foreground: 0 0% 18%;
    --muted: 208 26% 48%;
    --muted-foreground: 0 0% 18%;
    --card: 0 0% 96%;
    --card-foreground: 0 0% 18%;
    --accent: 177 23% 71%;
    --accent-foreground: 200 27% 23%;
    --wood: 26 19% 69%;
    --wood-light: 25 31% 75%;
    --wood-dark: 26 19% 59%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 96%;
    --border: 26 19% 69%;
    --input: 0 0% 96%;
    --ring: 208 26% 48%;
    --radius: 0.75rem;
  }

  /* Enhanced button interactions */
  .btn-wood {
    @apply bg-gradient-to-r from-wood-dark to-wood transition-all duration-300 text-[#F3F4F6];
    box-shadow: 0 2px 8px rgba(92, 64, 51, 0.2);
    transform: translateY(0);
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .btn-wood:hover {
    @apply bg-gradient-to-r from-wood to-wood-light;
    box-shadow: 0 4px 12px rgba(92, 64, 51, 0.3);
    transform: translateY(-2px) scale(1.02);
  }

  .btn-wood:active {
    transform: translateY(1px) scale(0.98);
    box-shadow: 0 1px 4px rgba(92, 64, 51, 0.2);
  }

  /* Playful card interactions */
  .card {
    @apply rounded-lg;
    border: 2px solid rgba(92, 64, 51, 0.1);
    background-color: #F5F5F5 !important;
    color: #2E2E2E !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transform-origin: center;
    box-shadow:
      0 2px 4px rgba(92, 64, 51, 0.05),    /* Subtle outer shadow */
      0 4px 8px rgba(92, 64, 51, 0.05),    /* Medium outer shadow */
      inset 0 -2px 4px rgba(255, 255, 255, 0.7),  /* Bottom inner highlight */
      inset 0 2px 4px rgba(0, 0, 0, 0.05); /* Top inner shadow */
  }

  .card:hover {
    transform: translateY(-4px) scale(1.01);
    box-shadow:
      0 8px 16px rgba(92, 64, 51, 0.08),    /* Larger outer shadow */
      0 12px 24px rgba(92, 64, 51, 0.08),   /* Spread outer shadow */
      inset 0 -2px 4px rgba(255, 255, 255, 0.9),  /* Enhanced bottom highlight */
      inset 0 2px 4px rgba(0, 0, 0, 0.05); /* Consistent top shadow */
  }

  .card:active {
    transform: translateY(-2px) scale(0.99);
    box-shadow:
      0 4px 8px rgba(92, 64, 51, 0.06),
      0 6px 12px rgba(92, 64, 51, 0.06),
      inset 0 -2px 4px rgba(255, 255, 255, 0.8),
      inset 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  /* Card header enhancement */
  .card-header {
    position: relative;
    z-index: 1;
    background: linear-gradient(
      to bottom,
      rgba(255, 255, 255, 0.9),
      rgba(255, 255, 255, 0.5)
    );
    border-bottom: 1px solid rgba(92, 64, 51, 0.1);
  }

  /* Card content enhancement */
  .card-content {
    position: relative;
    z-index: 0;
    background: linear-gradient(
      to bottom,
      rgba(255, 255, 255, 0.5),
      rgba(255, 255, 255, 0.8)
    );
  }


  /* Enhanced input interactions with 3D effect */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="search"],
  input[type="number"],
  input[type="tel"],
  input[type="url"],
  textarea,
  select,
  .text-box {
    background-color: #F5F5F5 !important;
    color: #2E2E2E !important;
    border: 2px solid rgba(92, 64, 51, 0.15);
    @apply rounded-lg;
    padding: 0.75rem;
    font-size: 0.95rem;
    line-height: 1.4;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow:
      0 2px 4px rgba(92, 64, 51, 0.05),    /* Subtle outer shadow */
      0 4px 8px rgba(92, 64, 51, 0.05),    /* Medium outer shadow */
      inset 0 -2px 4px rgba(255, 255, 255, 0.7),  /* Bottom inner highlight */
      inset 0 2px 4px rgba(0, 0, 0, 0.05); /* Top inner shadow */
    transform: translateY(0);
  }

  input:focus,
  textarea:focus,
  select:focus,
  .text-box:focus {
    transform: translateY(-2px);
    border-color: var(--wood);
    box-shadow:
      0 4px 8px rgba(92, 64, 51, 0.08),    /* Larger outer shadow */
      0 8px 16px rgba(92, 64, 51, 0.08),   /* Spread outer shadow */
      inset 0 -2px 4px rgba(255, 255, 255, 0.9),  /* Enhanced bottom highlight */
      inset 0 2px 4px rgba(0, 0, 0, 0.05); /* Consistent top shadow */
    outline: none;
  }

  input:hover,
  textarea:hover,
  select:hover,
  .text-box:hover {
    transform: translateY(-1px);
    box-shadow:
      0 3px 6px rgba(92, 64, 51, 0.07),
      0 6px 12px rgba(92, 64, 51, 0.07),
      inset 0 -2px 4px rgba(255, 255, 255, 0.8),
      inset 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  /* Playful tab interactions */
  .tabs-container [role="tab"] {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
  }

  .tabs-container [role="tab"]:hover {
    transform: translateY(-2px);
  }

  .tabs-container [role="tab"][data-state="active"] {
    transform: translateY(-2px);
    box-shadow: 0 2px 8px rgba(92, 64, 51, 0.15);
  }

  .tabs-container [role="tab"][data-state="active"]::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(to right, var(--wood-dark), var(--wood-light));
    transform: scaleX(0);
    animation: tabActivate 0.3s forwards cubic-bezier(0.4, 0, 0.2, 1);
  }

  @keyframes tabActivate {
    to {
      transform: scaleX(1);
    }
  }

  /* Loading animation */
  .loading-spinner {
    border: 3px solid rgba(92, 64, 51, 0.1);
    border-top: 3px solid var(--wood);
    border-radius: 50%;
    width: 24px;
    height: 24px;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  /* Hover lift effect */
  .hover-lift {
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .hover-lift:hover {
    transform: translateY(-2px);
  }

  /* Preserve existing styles but update for consistency */
  label,
  .label {
    @apply text-sm font-medium leading-none;
    color: #2E2E2E;
    margin-bottom: 0.5rem;
    letter-spacing: 0;
    transition: transform 0.2s ease;
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.5);
  }

  label:hover {
    transform: translateX(2px);
  }

  .form-group {
    @apply grid gap-3;
    margin-bottom: 1.5rem;
  }

  /* Tabs animation */
  .tabs-container [role="tab"] {
    transition: all 0.2s ease;
  }

  .tabs-container [role="tab"]:hover {
    transform: translateY(-1px);
  }

  .tabs-container [role="tab"][data-state="active"] {
    transform: translateY(-2px);
    box-shadow: 0 2px 4px rgba(92, 64, 51, 0.1);
  }

  /* Keep existing scrollbar styling */
  .category-content::-webkit-scrollbar,
  .card-container::-webkit-scrollbar,
  .tabs-container::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .category-content::-webkit-scrollbar-track,
  .card-container::-webkit-scrollbar-track,
  .tabs-container::-webkit-scrollbar-track {
    background: transparent;
  }

  .category-content::-webkit-scrollbar-thumb,
  .card-container::-webkit-scrollbar-thumb,
  .tabs-container::-webkit-scrollbar-thumb {
    background: var(--wood);
    border-radius: 12px;
  }

  .category-content::-webkit-scrollbar-thumb:hover,
  .card-container::-webkit-scrollbar-thumb:hover,
  .tabs-container::-webkit-scrollbar-thumb:hover {
    background: var(--wood-light);
  }

  /* Content areas with proper spacing */
  .category-content {
    height: calc(100vh - 2rem);
    overflow-y: auto;
    overflow-x: hidden;
    padding: 1rem;
    margin: -1rem;
    position: relative;
    width: calc(100% - 8px); /* Account for scrollbar width */
  }

  /* Card containers within categories */
  .card-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    padding: 1rem;
    padding-right: 2rem; /* Extra padding for scrollbar */
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
  }

  /* Ensure cards don't overflow */
  .card-container > * {
    width: 100%;
    min-width: 0;
    margin-right: 0;
  }

  /* Responsive adjustments */
  @media (max-width: 1024px) {
    .card-container {
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }
  }

  @media (max-width: 640px) {
    .card-container {
      grid-template-columns: 1fr;
    }
  }

  /* Maintain existing scrollbar styling */
  .category-content::-webkit-scrollbar {
    width: 8px;
    position: absolute;
    right: 0;
  }

  .category-content::-webkit-scrollbar-track {
    background: transparent;
  }

  .category-content::-webkit-scrollbar-thumb {
    background: var(--wood);
    border-radius: 12px;
  }

  .category-content::-webkit-scrollbar-thumb:hover {
    background: var(--wood-light);
  }


  /* Background texture */
  .bg-texture {
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.15' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E");
    background-repeat: repeat;
    background-attachment: fixed;
    background-size: auto;
    background-position: center;
  }

  body {
    @apply bg-texture font-serif text-wood;
    min-height: 100vh;
    margin: 0;
    padding: 0;
  }
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
  }

  body {
    @apply font-serif antialiased bg-background text-foreground;
    min-height: 100vh;
    width: 100vw;
    overflow-x: hidden;
    position: relative;
    margin: 0;
    padding: 0;
  }

  #root {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  main {
    flex: 1;
    width: 100%;
    max-width: 100vw;
    overflow-x: hidden;
    padding: 1rem;
  }


  /* Horizontal scrolling containers */
  .scroll-container-x {
    width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    padding-bottom: 1rem; /* Space for scrollbar */
  }

  .scroll-container-x::-webkit-scrollbar {
    height: 8px;
  }

  .scroll-container-x::-webkit-scrollbar-track {
    background: transparent;
  }

  .scroll-container-x::-webkit-scrollbar-thumb {
    background: var(--wood);
    border-radius: 4px;
  }

  .scroll-container-x::-webkit-scrollbar-thumb:hover {
    background: var(--wood-light);
  }


  /* Add styles for tab container scrolling */
  .tabs-container {
    width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    padding-bottom: 1rem;
    margin-bottom: -1rem;
  }

  .tabs-container::-webkit-scrollbar {
    height: 8px;
  }

  .tabs-container::-webkit-scrollbar-track {
    background: transparent;
  }

  .tabs-container::-webkit-scrollbar-thumb {
    background: var(--wood);
    border-radius: 4px;
  }

  .tabs-container::-webkit-scrollbar-thumb:hover {
    background: var(--wood-light);
  }

  /* Ensure tab items stay inline */
  .tabs-container [role="tablist"] {
    display: inline-flex;
    min-width: min-content;
    gap: 1rem;
    padding: 0 0.5rem;
  }


  /* Command menu styles - keeping light backgrounds */
  .cm-base,
  [cmdk-input],
  [cmdk-list],
  .dropdown-content,
  [role="listbox"],
  [role="menu"],
  [data-radix-popper-content-wrapper] {
    background-color: #F5F5F5;
    color: #2E2E2E;
    @apply border-wood/20;
  }

  [cmdk-input],
  .input-base {
    background-color: #F5F5F5;
    color: #2E2E2E;
    @apply border-wood/20 focus:border-wood/40 focus:ring-wood/30;
  }

  [cmdk-list] {
    background-color: #F5F5F5;
    @apply border-t border-wood/20;
  }

  [cmdk-item] {
    color: #2E2E2E;
    @apply hover:bg-wood/5;
  }

  /* Card styles */
  .card-sandstone {
    @apply shadow-sm border-wood/20;
    border: 1px solid rgba(92, 64, 51, 0.2);
  }

  /* Text input and form control styles */
  .input-control {
    @apply border-wood/20 focus:border-wood/40 focus:ring-wood/30 rounded-md;
  }

  /* Dropdown and select styles */
  .select-content,
  .dropdown-content,
  .popover-content {
    @apply border-wood/20 shadow-sm rounded-md;
  }

  /* Dialog and modal styles */
  .dialog-content {
    @apply border-wood/20 shadow-md rounded-lg;
  }

  .bg-wood {
    @apply bg-gradient-to-r from-wood-dark to-wood-light;
  }

  .text-wood {
    color: hsl(var(--wood));
  }

  .hover-wood:hover {
    @apply bg-wood text-muted transition-colors;
  }

  .bg-texture {
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.15' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E");
    background-repeat: repeat;
    background-attachment: fixed;
    background-size: auto;
    background-position: center;
  }

  body {
    @apply bg-texture font-serif text-wood;
    min-height: 100vh;
    margin: 0;
    padding: 0;
  }
}